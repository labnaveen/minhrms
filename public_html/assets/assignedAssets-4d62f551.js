import{r as a,j as e,G as u,bF as x}from"./index-3ec7abe5.js";import{C as A}from"./dropdown.esm-1ad10373.js";import{T as h}from"./index-b2a6305f.js";import{E as g}from"./edit-c01b3e15.js";import{P as j}from"./plus-b36a0702.js";import{C as l}from"./index-3d6f48ca.js";import{A as b}from"./assignUnassignAsset-c41d0081.js";import{J as y}from"./api-9d9fddec.js";import{I as N}from"./inputtext.esm-e49a03d7.js";import{u as w}from"./useDispatch-1aeda00f.js";import"./index.esm-9e3aa09b.js";import"./paginator.esm-634e02d4.js";import"./validationSchemas-9cdf4188.js";import"./index-36dd5a0c.js";import"./index-37ade0e2.js";import"./calendar.esm-f987a87a.js";import"./index.esm-be3d6ae7.js";const J=()=>{const c=w(),r=a.useRef(null),[i,d]=a.useState(""),[m,o]=a.useState(!1),n=async s=>await y({filterBy:"search_term",filterValue:i,page:s.page+1,records:s.rows,sortBy:s.sortField?s.sortField:"",sortOrder:s.sortField?s.sortOrder===-1?"DESC":"ASC":""}),f=[{field:"employee_name",header:"Employee Name",sortable:!0,body:s=>{var t;return((t=s==null?void 0:s.user)==null?void 0:t.employee_name)||"N/A"}},{field:"asset_name",header:"Asset Name",sortable:!0,body:s=>{var t;return((t=s==null?void 0:s.asset)==null?void 0:t.asset_name)||"N/A"}},{field:"date_of_issue",header:"Date Of Issue",sortable:!0,body:s=>s!=null&&s.date_of_issue?u(s.date_of_issue).format("DD-MM-YYYY"):"N/A"},{field:"description",header:"Description",body:s=>(s==null?void 0:s.description)||"N/A"},{field:"actions",align:"center",alignHeader:"center",className:"cursor-default",header:"Actions",body:s=>e.jsx("div",{className:"flex w-full items-center justify-center gap-3",children:e.jsx("img",{className:"cursor-pointer",width:25,height:25,src:g,onClick:()=>{c(x(s)),o(!0)}})})}],p=()=>{o(!0)};return e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("div",{className:"text-bold flex w-full px-2 pb-4 text-xl text-gray-600",children:"Assign Assets"}),e.jsxs(A,{className:"flex w-full flex-col",children:[e.jsxs("div",{className:"my-2 flex flex-col-reverse justify-between gap-3 p-3 md:flex-row",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 md:flex-row",children:[e.jsx(N,{placeholder:"Employee/Asset name",value:i,onChange:s=>d(s.target.value)}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(l,{icon:"pi pi-times",severity:"danger",onClick:()=>{d(""),r.current&&r.current.refreshListData()}}),e.jsx(l,{icon:"pi pi-search",disabled:!i,onClick:()=>{r.current&&r.current.refreshListData()}})]})]}),e.jsx(l,{raised:!0,label:"Assign Asset",icon:e.jsx("img",{src:j}),onClick:p})]}),e.jsx(h,{dataHandler:n,id:"asset_list",headers:f,ref:r})]}),e.jsx(b,{visible:m,onHide:()=>o(!1),tableRef:r})]})};export{J as default};
